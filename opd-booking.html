<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPD Booking | Bhakti Lok Hospital</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div class="top-bar">
        <div class="container top-bar-content">
            <div class="top-contact">
                <span><i class="fas fa-phone-alt"></i> Help: <strong>077380 40157</strong></span>
            </div>
            <div class="top-socials">
                <a href="index.html" style="color:white; font-size:0.9rem;"><i class="fas fa-arrow-left"></i> Back to Home</a>
            </div>
        </div>
    </div>

    <section class="opd-section section-padding" id="booking-interface">
        <div class="container">
            <div class="opd-grid">
                
                <div class="opd-instructions">
                    <h3 class="section-heading">Important Guidelines</h3>
                    <div class="blue-line"></div>
                    <p style="margin-bottom: 20px;">Please read the following instructions carefully before booking your appointment:</p>
                    
                    <ul class="guidelines-list">
                        <li>
                            <i class="fas fa-clock"></i> 
                            <strong>Reporting Time:</strong> Please arrive at the reception at least 15 minutes prior to your scheduled slot for vital checks.
                        </li>
                        <li>
                            <i class="fas fa-id-card"></i> 
                            <strong>Identity Proof:</strong> It is mandatory to carry a valid government ID (Aadhar Card / Pan Card) for registration.
                        </li>
                        <li>
                            <i class="fas fa-folder-open"></i> 
                            <strong>Medical Records:</strong> Please bring all your previous medical reports, prescriptions, and X-rays for a better diagnosis.
                        </li>
                        <li>
                            <i class="fas fa-mask"></i> 
                            <strong>Safety Protocols:</strong> Wearing a mask is compulsory in the waiting area. Please sanitize your hands upon entry.
                        </li>
                        <li>
                            <i class="fas fa-mobile-alt"></i> 
                            <strong>Mobile Phones:</strong> Keep your mobile phone on silent mode inside the doctor's cabin to avoid disturbances.
                        </li>
                        <li>
                            <i class="fas fa-user-plus"></i> 
                            <strong>Attendants:</strong> Only one attendant is allowed to accompany the patient inside the consultation room.
                        </li>
                    </ul>

                    <div class="process-flow">
                        <h4><i class="fas fa-route"></i> Booking Steps:</h4>
                        <div class="step-item"><span class="step-num">1</span> <span>Fill Health Details</span></div>
                        <div class="step-item"><span class="step-num">2</span> <span>Choose Doctor</span></div>
                        <div class="step-item"><span class="step-num">3</span> <span>Pay & Confirm</span></div>
                    </div>

                    <div class="opd-contact-box">
                        <i class="fas fa-headset"></i>
                        <div>
                            <h5>Need Help Booking?</h5>
                            <p>Call Reception: <strong>077380 40157</strong></p>
                        </div>
                    </div>
                </div>

                <div class="opd-form-card extra-padding">
                    
                    <div id="step1-form">
                        <div class="form-header">
                            <h3>Step 1: Patient Details</h3>
                            <p>Tell us about your health condition</p>
                        </div>
                        <form id="detailsForm" onsubmit="goToStep2(event)" style="padding: 20px 40px;">
                            <div class="form-group">
                                <label>Patient Name *</label>
                                <input type="text" id="pName" class="input-padded" placeholder="Enter Full Name" required>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Phone Number *</label>
                                    <input type="tel" class="input-padded" placeholder="10-digit Mobile" required>
                                </div>
                                <div class="form-group">
                                    <label>Age *</label>
                                    <input type="number" class="input-padded" placeholder="Years" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Current Symptoms (Chief Complaint) *</label>
                                <textarea class="input-padded" placeholder="E.g., High fever since 2 days, stomach pain..." rows="2" required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>Current Medications</label>
                                <textarea class="input-padded" placeholder="List any medicines you are currently taking..." rows="2"></textarea>
                            </div>

                            <div class="form-group">
                                <label>Past Medical History</label>
                                <textarea class="input-padded" placeholder="E.g., Diabetes, Hypertension, Previous Surgeries..." rows="2"></textarea>
                            </div>

                            <button type="submit" class="btn-full">Next: Select Doctor <i class="fas fa-arrow-right"></i></button>
                        </form>
                    </div>

                    <div id="step2-doctors" style="display: none;">
                        <div class="form-header">
                            <h3>Step 2: Choose Specialist</h3>
                            <p>Select a doctor to view profile</p>
                        </div>
                        <div style="padding: 30px;">
                            <div class="doctor-selection-grid">
                                <div class="doctor-card" onclick="showDoctorProfile('amol')">
                                    <img src="images/home-page.png" alt="Dr Amol" class="doc-thumb-large">
                                    <h4>Dr. Amol</h4>
                                    <p>General Physician & Surgeon</p>
                                </div>
                                <div class="doctor-card" onclick="showDoctorProfile('mansi')">
                                    <img src="images/dr-mansi.png" alt="Dr Mansi" class="doc-thumb-large">
                                    <h4>Dr. Mansi Shanghavi</h4>
                                    <p>Gynaecologist</p>
                                </div>
                            </div>
                            <button onclick="goBack('step2-doctors', 'step1-form')" class="btn-text">Back</button>
                        </div>
                    </div>

                    <div id="step3-profile" style="display: none;">
                        <div class="form-header">
                            <h3>Doctor Profile</h3>
                            <p>View details and schedule</p>
                        </div>
                        <div style="padding: 30px;">
                            
                            <div class="full-doc-profile">
                                <img id="prof-img" src="" class="prof-img-large">
                                <div class="prof-info">
                                    <h2 id="prof-name">Doctor Name</h2>
                                    <p id="prof-spec" style="color:var(--primary-blue); font-weight:bold;">Speciality</p>
                                    <div class="prof-meta">
                                        <span><i class="fas fa-graduation-cap"></i> <span id="prof-qual">MBBS</span></span>
                                        <span><i class="fas fa-briefcase"></i> <span id="prof-exp">10 Yrs</span></span>
                                    </div>
                                    <p style="font-size:0.9rem; color:#666; margin-top:10px;">
                                        Highly experienced specialist dedicated to patient care and advanced treatment methodologies.
                                    </p>
                                </div>
                            </div>

                            <hr style="margin: 20px 0; border:0; border-top:1px solid #eee;">

                            <div id="calendar-area">
                                <h4 style="margin-bottom:10px;">Select Appointment Date:</h4>
                                <input type="date" id="appDate" class="input-padded" onchange="showSlots()">
                                
                                <div id="slots-area" style="display:none; margin-top:20px;">
                                    <h4 style="margin-bottom:10px;">Available Slots:</h4>
                                    <div class="time-slots">
                                        <button class="slot-btn" onclick="selectSlot('10:00 AM')">10:00 AM</button>
                                        <button class="slot-btn" onclick="selectSlot('11:30 AM')">11:30 AM</button>
                                        <button class="slot-btn" onclick="selectSlot('06:00 PM')">06:00 PM</button>
                                    </div>
                                </div>
                            </div>

                            <button onclick="goBack('step3-profile', 'step2-doctors')" class="btn-text" style="margin-top:20px;">Change Doctor</button>
                        </div>
                    </div>

                    <div id="step4-overview" style="display: none;">
                        <div class="form-header">
                            <h3>Booking Overview</h3>
                            <p>Review details before payment</p>
                        </div>
                        <div style="padding: 30px;">
                            
                            <div class="booking-summary-box">
                                <div class="summary-row">
                                    <span>Patient Name:</span>
                                    <strong id="sum-pname">Name</strong>
                                </div>
                                <div class="summary-row">
                                    <span>Doctor:</span>
                                    <strong id="sum-doc">Dr Name</strong>
                                </div>
                                <div class="summary-row">
                                    <span>Date & Time:</span>
                                    <strong><span id="sum-date"></span> at <span id="sum-time"></span></strong>
                                </div>
                                <div class="summary-row" style="margin-top:15px; padding-top:15px; border-top:1px dashed #ccc;">
                                    <span>Consultation Fee:</span>
                                    <strong style="color:var(--primary-blue); font-size:1.2rem;">â‚¹500.00</strong>
                                </div>
                            </div>

                            <button onclick="processPayment()" class="btn-full" style="background-color: #28a745; margin-top:20px;">
                                Pay & Confirm Booking
                            </button>
                            <button onclick="goBack('step4-overview', 'step3-profile')" class="btn-text">Back</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <div id="final-success" class="full-screen-success" style="display: none;">
        <div class="success-card-centered">
            <div style="font-size: 5rem; color: #28a745; margin-bottom: 20px;">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 style="color: var(--primary-blue); font-size: 2.2rem;">Booking Confirmed!</h2>
            <p>Your transaction was successful.</p>
            
            <div class="receipt-box">
                <p><strong>Transaction ID:</strong> <span id="txn-id">TXN123456</span></p>
                <div class="token-display">
                    <small>Your Token Number</small>
                    <h1>BLH-402</h1>
                </div>
                <p style="font-size:0.9rem; color:#555;">Please show this token at the reception.</p>
            </div>

            <a href="index.html" class="btn-primary" style="margin-top: 20px; display: inline-block;">Return to Home</a>
        </div>
    </div>

    <script>
        let bookingData = {
            patientName: "",
            doctorName: "",
            date: "",
            time: ""
        };

        function goBack(current, target) {
            document.getElementById(current).style.display = 'none';
            document.getElementById(target).style.display = 'block';
        }

        // Step 1 -> Step 2
        function goToStep2(e) {
            e.preventDefault();
            bookingData.patientName = document.getElementById('pName').value;
            document.getElementById('step1-form').style.display = 'none';
            document.getElementById('step2-doctors').style.display = 'block';
        }

        // Step 2 -> Step 3
        function showDoctorProfile(docKey) {
            const docs = {
                'amol': { name: 'Dr. Amol', spec: 'General Physician', qual: 'MBBS, MD', exp: '8+ Yrs', img: 'images/home-page.png' },
                'mansi': { name: 'Dr. Mansi Shanghavi', spec: 'Gynaecologist', qual: 'MBBS, MS', exp: '10+ Yrs', img: 'images/dr-mansi.png' }
            };
            const data = docs[docKey];
            bookingData.doctorName = data.name;

            document.getElementById('prof-name').innerText = data.name;
            document.getElementById('prof-spec').innerText = data.spec;
            document.getElementById('prof-qual').innerText = data.qual;
            document.getElementById('prof-exp').innerText = data.exp;
            document.getElementById('prof-img').src = data.img;

            document.getElementById('step2-doctors').style.display = 'none';
            document.getElementById('step3-profile').style.display = 'block';
        }

        // Show slots
        function showSlots() {
            if(document.getElementById('appDate').value) {
                document.getElementById('slots-area').style.display = 'block';
                bookingData.date = document.getElementById('appDate').value;
            }
        }

        // Step 3 -> Step 4
        function selectSlot(time) {
            bookingData.time = time;
            document.getElementById('sum-pname').innerText = bookingData.patientName;
            document.getElementById('sum-doc').innerText = bookingData.doctorName;
            document.getElementById('sum-date').innerText = bookingData.date;
            document.getElementById('sum-time').innerText = bookingData.time;

            document.getElementById('step3-profile').style.display = 'none';
            document.getElementById('step4-overview').style.display = 'block';
        }

        // Step 4 -> Success
        function processPayment() {
            const btn = document.querySelector('#step4-overview .btn-full');
            btn.innerText = "Contacting Payment Gateway...";
            btn.style.opacity = "0.7";

            setTimeout(() => {
                const txnId = "TXN" + Math.floor(Math.random() * 10000000);
                document.getElementById('txn-id').innerText = txnId;
                document.getElementById('booking-interface').style.display = 'none';
                document.getElementById('final-success').style.display = 'flex';
            }, 2000);
        }
    </script>
</body>
</html>